environment:
  host:
    os: 'windows'
    flavor: 'server'
    version: '2019'
  runtime:
    provider: 'appcontainer'
    image: 'cdpxwin1809.azurecr.io/global/vse2019:latest'
    source_mode: 'map'

signing_options:
  profile: 'internal_azure_service'
  codesign_validation_glob_pattern: 'regex|.+(?:dll|exe|sys|ps1|psm1|ps1xml|psc1|psd1|cdxml|vbs|js|wsf)$;-:file|**\linux\**' 
  #CSV does not currently support binaries built for linux, so we exclude this folder

version:
  name: 'Generate Version file'                  # The uber name to attach to the artifacts generated by this pipeline.
                                                  # Currently unused, but will be used in the future to refer to the
                                                  # artifacts as a group by name.
  major: 1                                       # The major version number.
  minor: 0                                       # The minor version number
#  tag: test                                      # Tag to use for semantic versioning.
  system: 'buildrevision'                        # Versioning scheme to use.
                                                  # patch         - 1.0.MMddyyrrrr will be generated
                                                  # buildrevision - 1.0.MMddyy.rrrr will be generated.


static_analysis_options:
  policheck_options:
    scan_comments: true
    files_to_scan:
      - exclude:
        - '**\node_modules\**.md'
  binskim_options:
    files_to_scan:
      - from: 'src'
        exclude:
        - '**/node_modules/**/*.exe'
        - '**/node_modules/**/*.js'
        - '**/Go/*.exe'
  moderncop_options:
    files_to_scan:
      - from: 'src'
        exclude:
        - '**/Node/**/*.js'  # Ignore all because ModernCop does not support ES6+ JavaScript, which is what this application is written with. We are supposed to use TSLint instead. https://www.1eswiki.com/wiki/Secure_Development_Tools_Extension_For_Azure_DevOps
        - '**/AzureDevOpsExtension/**/*.js'  # Ignore all because ModernCop does not support ES6+ JavaScript, which is what this application is written with. We are supposed to use TSLint instead. https://www.1eswiki.com/wiki/Secure_Development_Tools_Extension_For_Azure_DevOps
        - '**/node_modules/**/*.exe'
        - '**/node_modules/**/*.js'
       